<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Netflix - Registro</title>
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
	</link>
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
		crossorigin="anonymous" />
	<style>
body {
	margin: 0;
	padding: 0;
	font-family: Arial, sans-serif;
	color: white;
	display: flex;
	flex-direction: column;
	min-height: 100vh;
	background-color: black;
}

.netflix-header {
	width: 100%;
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 20px;
	background-color: black;
	position: fixed;
	top: 0;
	z-index: 1000;
}

.netflix-logo {
	width: 150px;
}

.netflix-login {
	display: flex;
	gap: 20px;
	align-items: center;
}

.netflix-login a {
	color: white;
	text-decoration: none;
	font-size: 1rem;
}

.netflix-login a:hover {
	text-decoration: underline;
}

.netflix-main {
	width: 100%;
	flex: 1;
	background-image:
		url('https://www.notebookcheck.net/fileadmin/Notebooks/News/_nc3/netflixteaser.png');
	background-size: cover;
	background-position: center 20%;
	background-repeat: no-repeat;
	display: flex;
	justify-content: center;
	align-items: flex-start;
	padding-top: 100px;
	position: relative;
}

.netflix-container {
	background-color: rgba(0, 0, 0, 0.7);
	padding: 50px;
	border-radius: 30px;
	width: 100%;
	max-width: 600px;
	text-align: center;
}

.login-title {
	font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
	font-weight: 700;
	font-size: 2.5rem;
	color: white;
	letter-spacing: -0.5px;
	margin-bottom: 20px;
}

.form-container {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 20px;
	margin-bottom: 20px;
	position: relative;
	z-index: 1;
}

.input-group {
	margin-bottom: 15px;
}

.input-group h3 {
	margin-bottom: 8px;
	font-size: 16px;
	color: #ccc;
}

.input-group input, .input-group .calendar-input {
	width: 100%;
	padding: 12px;
	border: 1px solid #333;
	border-radius: 4px;
	font-size: 16px;
	box-sizing: border-box;
	background-color: #333;
	color: white;
}

.login-button {
	grid-column: span 2;
	background-color: #e50914;
	color: white;
	border: none;
	padding: 15px;
	border-radius: 4px;
	font-size: 16px;
	cursor: pointer;
	margin-top: 20px;
	font-weight: bold;
}

.login-button:hover {
	background-color: #f40612;
}

.ui-datepicker {
	background: #333 !important;
	color: white !important;
	border: 1px solid #555 !important;
}

.ui-datepicker-header {
	background: #e50914 !important;
	color: white !important;
	border: none !important;
}

.error-message {
	color: #e50914;
	font-size: 14px;
	margin-top: 5px;
	display: block;
}

.input-fecha {
	display: flex !important;
	width: 100% !important;
}

.input-fecha .ui-calendar {
	display: flex !important;
	width: 100% !important;
}

.input-fecha .ui-calendar input {
	flex: 1 !important;
	border-radius: 4px 0 0 4px !important;
	border-right: none !important;
}

.input-fecha .ui-datepicker-trigger {
	border-radius: 0 4px 4px 0 !important;
	width: 46px !important;
	min-width: 46px !important;
	margin: 0 !important;
	padding: 0 !important;
}

.signup-link {
	grid-column: span 2;
	text-align: center;
	margin-top: 15px;
	color: #737373;
}

.signup-link a {
	color: white;
	text-decoration: none;
}

.signup-link a:hover {
	text-decoration: underline;
}

.netflix-main::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.5);
	z-index: 0;
}
</style>
</h:head>
<h:body>
	<div class="netflix-header">
		<img
			src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg"
			alt="Netflix Logo" class="netflix-logo" />
		
		 <h:button value="🌙" styleClass="theme-toggle btn p-0" outcome="registrarseClaro">
    
</h:button>
	</div>

	<div class="netflix-main">
		<div class="netflix-container">
			<h:form id="registroForm">
				<h1 class="login-title">CREAR CUENTA</h1>

				<h:messages globalOnly="true" styleClass="error-message" />

				<div class="form-container">

					<div>
						<div class="input-group">
							<h3>Nombre*</h3>
							<h:inputText id="nombre" value="#{UsuarioBean.nombre}"
								required="true" requiredMessage="El nombre es obligatorio">
								<f:validateRegex pattern="^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$"
									message="El nombre solo puede contener letras y espacios" />
							</h:inputText>
							<h:message for="nombre" styleClass="error-message" />

						</div>

						<div class="input-group">
							<h3>Correo electrónico*</h3>
							<h:inputText id="correo" value="#{UsuarioBean.correo}"
								required="true" requiredMessage="El correo es obligatorio">
								<f:validateRegex
									pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
									message="Ingrese un correo electrónico válido" />
							</h:inputText>
							<h:message for="correo" styleClass="error-message" />
						</div>

						<div class="input-group">
							<h3>Contraseña*</h3>
							<h:inputSecret id="clave" value="#{UsuarioBean.clave}"
								required="true" requiredMessage="La contraseña debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas, números y caracteres especiales">
								<f:validateRegex
									pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&amp;+=])(?=\S+$).{8,}$"
									message="La contraseña debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas, números y caracteres especiales" />
							</h:inputSecret>
							<h:message for="clave" styleClass="error-message" />
						</div>
					</div>

					<div>

						<div class="input-group">
							<h3>Documento*</h3>
							<h:inputText id="documento" value="#{UsuarioBean.documento}"
								placeholder="Documento de identidad" required="true"
								requiredMessage="El documento es obligatorio">
								<f:validateLongRange minimum="1" />
							</h:inputText>
							<h:message for="documento" styleClass="error-message" />
						</div>
						<div class="input-group">
							<h3>Fecha de nacimiento*</h3>
							<div class="input-fecha">
								<p:calendar id="fechaNacimiento"
									value="#{UsuarioBean.fechaNacimiento}"
									pattern="dd/MM/yyyy" required="true"
									requiredMessage="La fecha de nacimiento es obligatoria"
									navigator="true" yearRange="c-100:c"
									maxdate="04/04/2015" showOn="button"
									showButtonPanel="true" styleClass="calendar-input"
									onchange="validarEdad(this)">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</p:calendar>
							</div>
							<h:message for="fechaNacimiento" styleClass="error-message" />
							<small id="edadError" class="error-message"
								style="display: none;"> Debes tener al menos 15 años
								para registrarte </small>
						</div>

					</div>
					<h:commandButton value="Registrarse"
						action="#{UsuarioBean.guardar}" styleClass="login-button"
						onclick="return confirm('¿Estás seguro de registrar esta cuenta?');" href="#{request.contextPath}/login.xhtml"/>
					<div class="signup-link">
						¿Ya tienes una cuenta?
						<h:link outcome="login" value="Inicia sesión" />
					</div>
				</div>
			</h:form>
		</div>
	</div>
	<footer class="bg-black text-white py-5 mt-5">
		<div class="container">
			<div class="mb-4">
				<p class="text-white-50 mb-4">
					¿Preguntas? Llama al <a class="text-white-50">01 800 917 1564</a>
					(sin cargo)
				</p>
				<div class="social-icons mb-4">
					<a href="https://www.facebook.com/NetflixLatino" target="_blank"
						rel="noopener noreferrer" class="text-white me-3"> <i
						class="bi bi-facebook" style="font-size: 1.5rem;"></i>
					</a> <a href="https://www.instagram.com/NetflixLat/" target="_blank"
						rel="noopener noreferrer" class="text-white me-3"> <i
						class="bi bi-instagram" style="font-size: 1.5rem;"></i>
					</a> <a href="https://twitter.com/NetflixLAT" target="_blank"
						rel="noopener noreferrer" class="text-white me-3"> <i
						class="bi bi-twitter-x" style="font-size: 1.5rem;"></i>
					</a> <a href="https://www.youtube.com/user/NetflixLAT" target="_blank"
						rel="noopener noreferrer" class="text-white"> <i
						class="bi bi-youtube" style="font-size: 1.5rem;"></i>
					</a>
				</div>
				<div class="row">
					<div class="col-6 col-md-3 mb-3">
						<ul class="list-unstyled">
							<li class="mb-2"><a
								href="https://help.netflix.com/es/node/412" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Preguntas
									frecuentes</a></li>
							<li class="mb-2"><a
								href="https://ir.netflix.net/ir-overview/profile/default.aspx"
								target="_blank" rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Relaciones con
									inversionistas</a></li>
							<li class="mb-2"><a
								href="https://help.netflix.com/legal/notices" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Avisos legales</a></li>
						</ul>
					</div>
					<div class="col-6 col-md-3 mb-3">
						<ul class="list-unstyled">
							<li class="mb-2"><a href="https://help.netflix.com/es"
								target="_blank" rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Centro de ayuda</a></li>
							<li class="mb-2"><a href="https://jobs.netflix.com/"
								target="_blank" rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Empleo</a></li>
							<li class="mb-2"><a
								href="https://www.netflix.com/co/browse/genre/839338"
								target="_blank" rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Solo en netflix</a></li>
						</ul>
					</div>
					<div class="col-6 col-md-3 mb-3">
						<ul class="list-unstyled">
							<li class="mb-2"><a
								href="https://www.netflix.com/gift-cards" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Tarjeta de regalo</a></li>
							<li class="mb-2"><a
								href="https://help.netflix.com/legal/termsofuse" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Términos de uso</a></li>
							<li class="mb-2"><a
								href="https://help.netflix.com/es/node/134094" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Información
									corporativa</a></li>
						</ul>
					</div>
					<div class="col-6 col-md-3 mb-3">
						<ul class="list-unstyled">
							<li class="mb-2"><a href="https://media.netflix.com/"
								target="_blank" rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Prensa</a></li>
							<li class="mb-2"><a
								href="https://help.netflix.com/legal/privacy" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Privacidad</a></li>
							<li class="mb-2"><a
								href="https://help.netflix.com/es/contactus" target="_blank"
								rel="noopener noreferrer"
								class="text-white-50 text-decoration-none">Contáctanos</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="pt-3 border-top border-secondary">
				<p class="text-white-50 small mb-0">© 1997-2025 Netflix, Inc.</p>
			</div>
		</div>
	</footer>
	<script>
		<![CDATA[
		function validarEdad(input) {
			var errorElement = document.getElementById('edadError');
			if (!input.value) {
				errorElement.style.display = 'none';
				return;
			}

			// Parsear la fecha en formato dd/MM/yyyy
			var parts = input.value.split('/');
			var fechaNac = new Date(parts[2], parts[1] - 1, parts[0]);
			var hoy = new Date();

			// Calcular edad
			var edad = hoy.getFullYear() - fechaNac.getFullYear();
			var mes = hoy.getMonth() - fechaNac.getMonth();

			if (mes < 0 || (mes === 0 && hoy.getDate() < fechaNac.getDate())) {
				edad--;
			}

			if (edad < 15) {
				errorElement.style.display = 'block';
				input.setCustomValidity("Debes tener al menos 15 años");
			} else {
				errorElement.style.display = 'none';
				input.setCustomValidity("");
			}
		}

		// Validar al enviar el formulario
		document.getElementById('registroForm').addEventListener(
				'submit',
				function(e) {
					var fechaInput = document
							.querySelector('[id$="fechaNacimiento_input"]');
					validarEdad(fechaInput);

					if (fechaInput.validity.customError) {
						e.preventDefault();
					}
				});
		]]>
	</script>
</h:body>
</html>